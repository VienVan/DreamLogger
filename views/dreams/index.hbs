<div class='container-fluid dreams-page'>
<div class='dreamer-image'>

</div>

      <div class="content-wrapper">
        <a href="/dreamers/{{dreamer._id}}/edit"><img src='{{dreamer.img}}' class='menu'></a>
        <br>
        <br>

          <!-- Toggle profile page (al) -->
          <div class="flip-container" onclick="this.classList.toggle('hover');">
              <div class="flipper">
            <div class="front">
      <!-- front content --> 
            <button class="create_btn btn btn-success">Edit Profile</button>   
        </div>
      <div class="back">
      <!-- back content -->
      <form id="edit-dreamer-form" data-dreamer-id="{{dreamer.id}}" action="/dreamers/:id/dreams" onsubmit="dreamCatcher.editDreamer(event)">
      <br>
      <br>
        Edit Profile:<br>
        <input id="dreamerUpdate"type="text" name="dreamer[username]" placeholder="Username"><br>
      <!--   <input id="dreamerUpdate"type="text" name="dreamer[password]" placeholder="Password"> -->
        <br>
        <!-- <input id="dreamerUpdate"type="text" name="Confirm Password" placeholder="Confirm Password"> -->
        <br>
        <br>
        <button type="submit" class="create_btn btn btn-success" onsubmit="dreamCatcher.editDreamer(event)" id="{{dreamer.id}}">Save</button>
        <button class="create_btn btn btn-success">Cancel</button>
        <div class="form-group">
          <input type="hidden" role="uploadcare-uploader" name="dreamer[img]"/>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- End of al's code -->
      <div id="timeline" class="timeCube">
        <a class="addDream" data-toggle="modal" data-target="#createDreamModal">
            <span class="fa-stack fa-2x">
                <i class="fa fa-cloud fa-stack-2x"></i>
                <strong class="fa-stack-1x calendar-text">+</strong>
            </span>
        </a>
        <!-- <button id="prev-link">Previous</button>
        <button id="next-link">Next</button> -->
      </div>
      </div>

</div>
<!-- CREATE DREAMS MODAL -->
<div id="createDreamModal" class="modal" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content" data-dream-id="{{_id}}">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Create Dream</h4>
      </div>
      <div class="modal-body">
        <form id="dreams-form" class="form" onsubmit="dreamCatcher.createDream(event)">
          <div class='form-group2'>
          <input id="dreams-form-tag" type="text" name="tags[name]" placeholder="#tag your dreams to connect with other users!" class='form-control'>
          </div>
          <div class='form-group2'>
          <textarea id="dreams-form-description" type="textarea" name="description" placeholder="What did you dream about today?" class='form-control'></textarea>
          </div>
          <div class='form-group2'>
          <input type="hidden" name="dreamerId" value={{dreamer.id}} class='form-control'>
        </div>
{{!--           <input type="submit"></input> --}}
       <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary" id="addDream" data-dream-id="{{_id}}" >Add Dream</button>
      </div>
        </form>
      </div>
    </div>

  </div>
</div>

<div class="container hidden" id="dreams">
  {{#each dreams}}
  <div class="row-dream" data-dreams-id={{_id}} id="{{_id}}">
    {{description}}
    {{tags.name}}.{{createdAt}}.{{_id}}
   {{!--  <button class='btn btn-danger delete-dream'>Delete Dream</button>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#dreamModal" id="{{_id}}">Edit Dream</button> --}}
  </div>
  {{/each}}
</div>

  <!-- Edit Dreams Modal -->
<div id="dreamModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content" data-dream-id="{{_id}}">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Edit Dream</h4>
      </div>
      <div class="modal-body">
        <form id="edit-dreams-form" class="form" onsubmit="dreamCatcher.editDream(event)">
          {{!-- <input type="text" name="tags[name]" placeholder=""> --}}
          <input type="text" name="description" placeholder="description"></input>
          <input type="hidden" name="dreamerId" value={{dreamer.id}}>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="saveDream" data-dream-id="{{_id}}" onclick="dreamCatcher.editDream(event)">Save changes</button>
      </div>
    </div>

  </div>
</div>


<!-- <video class='video' poster="//i.imgur.com/x86Cu1bh.jpg" preload="auto" autoplay="autoplay" muted="muted" loop="loop" webkit-playsinline="" style="width: 960px; height: 540px;">
                <source src="//i.imgur.com/x86Cu1b.webm" type="video/webm">
                <source src="//i.imgur.com/x86Cu1b.mp4" type="video/mp4">

                <object style="width: 960px; height: 540px" type="application/x-shockwave-flash" data="//s.imgur.com/include/flash/gifplayer.swf?1444772065&amp;imgur_video=http://i.imgur.com/x86Cu1b.mp4&amp;imgur_width=960&amp;imgur_height=540&amp;imgur_url=">
                    <param name="movie" value="//s.imgur.com/include/flash/gifplayer.swf?1444772065&amp;imgur_video=http://i.imgur.com/x86Cu1b.mp4&amp;imgur_width=960&amp;imgur_height=540">
                    <param name="allowscriptaccess" value="never">
                    <param name="flashvars" value="height=540&amp;width=960">
                    <param name="width" value="960">
                    <param name="height" value="540">
                    <param name="version" value="0">
                    <param name="scale" value="scale">
                    <param name="salign" value="tl">
                    <param name="wmode" value="opaque">
                </object>
            </video> -->
<div id="dream-list"></div>

<!-- client-side dream template -->
<script id="dream-template" type="text/x-handlebars-template">
  \{{#each dreams}}
  <div id="\{{_id}}" class="dreams">
    <!-- <p>Dream Tag: \{{tags}}</p> -->
    <!-- <p class="dream-attribute">Tag: \{{dreamtag.tagId}}</p> -->
    <p>Description: \{{description}}</p>
    {{!-- <button class="btn delete-btn" onclick="dreamCatcher.deleteDream(event)">Delete</button> --}}
  </div>
  \{{/each}}
  \{{#each tags}}
  <p class='dream-attribute'>Tag: \{{name}}</p>
  \{{/each}}
</script>
